/*
	
	Project Name 			:	LightCastel Rebuild;
	Project Description 	:	Light Castel Ltd Brand Web version Rebuild;
	Author Name 			:	Tareq Al Muntasir and Saifur Rahman (Hasan);
	Author Email 			:	muntasir2000@gmail.com, saifur.dohs@gmail.com;	

*/

$(function(){

	// Preventing Default Behaviour For Hashed Link
	$('a[href="#"]').click(function(event){ event.preventDefault(); }); 

	// Initialize Bootstrap Tooltip
	$('[data-toggle="tooltip"], [data-plugin="tooltip"]').tooltip({'container' : 'body', 'html' : true});

	// Nav Side Scripts
	$('.nav-side .nav-toggle').click(function(e){
		e.preventDefault();
		$(this).parent().toggleClass('nav-open');
		if($(this).find('.icon').hasClass('fa-bars')){
			$(this).find('.icon').removeClass('fa-bars');
			$(this).find('.icon').addClass('fa-times');
		}else{
			$(this).find('.icon').removeClass('fa-times');
			$(this).find('.icon').addClass('fa-bars');
		}
	});
	// ///////////////////////////////////////////////
	
	// ThemeName - BackToTop
	const _btn_back_to_top	=	$('#btn_back_to_top');
	_btn_back_to_top.click(function(event) {
		event.preventDefault();
		$('html, body').animate({scrollTop: 0}, 500);
	});

	$(window).scroll(function(event) {
		var $this 				=	$(this),
			window_height 		=	$this.height() - 150,
			window_scroll_top	=	$this.scrollTop();

		if(window_scroll_top > window_height){
			if(!_btn_back_to_top.is(':visible')){
				_btn_back_to_top.fadeIn(500);
			}
		}else{
			_btn_back_to_top.fadeOut(500);
		}
	});
	// ///////////////////////////////////////////////

	// Slider -> Default Setting
	const $SliderControlIcons  =   [ '<i class="fa fa-lg fa-angle-left"></i>', '<i class="fa fa-lg fa-angle-right"></i>' ];

	// Home -> Slider -> Home
	$("#__Slider__Home").owlCarousel({
	    animateOut: 'slideOutDown', animateIn: 'flipInX', navigation: true, autoplayTimeout: 300, pagination: true, paginationSpeed: 400,
	    singleItem: true, autoPlay: 10000, transitionStyle: "backSlide",
	    navigationText: $SliderControlIcons
	});

	// Home -> Slider -> Service
	$("#slider_service").owlCarousel({
	    navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
	    navigationText: $SliderControlIcons
	});
	
	// Home -> Slider -> Case Studies
	$("#slider_casestudies").owlCarousel({
        navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
        navigationText: $SliderControlIcons
    });

    // Home -> Slider -> Initiatives
	$("#slider_initiative").owlCarousel({
        navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
        navigationText: $SliderControlIcons
    });

	// Home -> Slider -> Clients
	$('#slider_clients').owlCarousel({
        navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
        navigationText: $SliderControlIcons
    });
    // Home -> Slider -> Tesimonials
    $("#slider_testimonials").owlCarousel({
    	navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 2, lazyLoad: true, autoPlay: true, stopOnHover: true,
    	navigationText: $SliderControlIcons, animateOut: 'slideOutDown', animateIn: 'flipInX',
    });

    // Media -> Slider -> Recognation
    $('#slider_recognation').owlCarousel({
    	navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
        navigationText: $SliderControlIcons
    });

    // Media -> Slider -> Knowledge
    $('#slider_knowledge').owlCarousel({
    	navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
        navigationText: $SliderControlIcons
    });

    // Media -> Slider -> Interview
    $('#slider_interview').owlCarousel({
    	navigation: true, slideSpeed: 500, pagination: true, paginationSpeed: 800, items: 1, singleItem: false, autoPlay: true, stopOnHover: true,
        navigationText: $SliderControlIcons
    });

    // Page Casestudies
    // Case Studies -> Blog Card Auto Generator
    var article_holder = $('#__Blog__Article__Holder');
	$('.blog-card').click(function(e){
	    e.preventDefault();

	    $.ajax({
	    	url: $(this).attr('href'), type: 'GET', dataType: 'json'
	    })
	    .done(function(data) {
	    	console.log(data);
	    	article_holder.find('.casestudies-title').html(data.title);
	    	article_holder.find('.article-cover-img').attr('src', data.cover_image);
	    	article_holder.find('.article-content').html(data.blog_body);
	    })
	    .fail(function() {
	    	alert("Whoops something went wrong. Please try again.");
	    });
	    	    
	});

});